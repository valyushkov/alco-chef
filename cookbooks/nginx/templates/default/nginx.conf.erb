#
# Generated by Chef for <%= node[:fqdn] %>
# Local modifications will be overwritten.
#

daemon off;
user <%= node[:nginx][:user] %>;
worker_processes  <%= node[:nginx][:worker_processes] %>;
worker_rlimit_nofile <%= node[:nginx][:worker_rlimit_nofile]%>;

error_log  /var/log/nginx/error.log;
pid        /var/run/nginx.pid;

events {
  worker_connections <%= node[:nginx][:worker_connections]%>;
  use epoll;
}

http {
    include       /etc/nginx/mime.types;

    access_log	  /var/log/nginx/access.log;

    server_tokens off;
    sendfile       on;
    tcp_nopush     on;
    tcp_nodelay    on;

    keepalive_timeout  15 30;
    client_max_body_size 100m;

    large_client_header_buffers 4 8k;
    server_names_hash_bucket_size 64;

    include /etc/nginx/conf.d/*.conf;
    include /etc/nginx/sites-enabled/*;
}
